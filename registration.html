<!DOCTYPE html>
<html>
<head>
<title>Registration</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { 
  font-family: sans-serif; 
  background:white; 
  margin: 0; 
  padding: 10px; 
}
h3 {
  text-align:center;
  font-size:20px;
  background:#b4c4cf;
  color:rgb(71, 6, 6);
  padding:12px;
  border-radius:8px;
  margin-bottom:10px;
}
#search-box {
  width: 100%;
  padding: 12px;
  font-size: 16px;
  border: 1px solid #1a0101;
  border-radius: 12px;
  margin-bottom: 20px;
  outline: none;
}
ul { list-style-type: none; padding: 0; }
li { 
  margin-bottom: 15px; 
  padding: 15px; 
  border-radius: 12px; 
  background: linear-gradient(135deg, #e3e4e4, #cccecb);
  box-shadow: 0 3px 6px rgba(80, 78, 78, 0.3);
}
p { margin: 6px 0; font-size:15px; }
.name { font-weight:bold; font-size:18px; color:#0a0d0f; }

/* üîÑ Loading screen */
#loading {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: white;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  z-index: 9999;
  font-size: 18px;
  color: #333;
}

/* ‚≠ï Spinner animation */
.spinner {
  border: 6px solid #eee;
  border-top: 6px solid #075819;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  animation: spin 1s linear infinite;
  margin-bottom: 12px;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>
</head>
<body>
<h3>CELEBRATION 2026</h3>

<!-- üîç Search box -->
<input type="text" id="search-box" placeholder="üîç Search by any word...">

<!-- üìå Loading animation -->
<div id="loading">
  <div class="spinner"></div>
  <p>Loading data...</p>
</div>

<ul id="data-list"></ul>

<script>
const url = 'https://script.google.com/macros/s/AKfycbyOq3RK_pTLPTFuO_0Yxk-102DUnM2-amfhZW76ciuPttiWdxi8U03PKQNDSv-d_e8WGg/exec';

let allData = [];

// ‚è≥ Show loading minimum 3 sec
setTimeout(() => {
  fetch(url)
  .then(response => response.json())
  .then(data => {
    allData = data;
    displayData(allData);
    document.getElementById("loading").style.display = "none"; // ‚úÖ Hide loading
  })
  .catch(error => {
    console.error('‚ùå Error fetching data:', error);
    document.getElementById("loading").innerHTML = "<p>‚ö†Ô∏è Failed to load data</p>";
  });
}, 3000); // 3 sec delay

function displayData(data) {
  const dataList = document.getElementById('data-list');
  dataList.innerHTML = "";

  data.forEach(item => {
    let name   = item["Name"] || "";
    let phone  = item["Phone No"] || item["Phone"] || "";
    let office = item["Office"] || "";
    let district = item["District"] || "";

    const listItem = document.createElement('li');
    listItem.innerHTML = `
      <p class="name">${name}</p>
      <p>üìû ${phone}</p>
      <p>üè¢ ${office}</p>
      <p>üìç ${district}</p>
    `;
    dataList.appendChild(listItem);
  });
}

// üîé Search filter
document.getElementById("search-box").addEventListener("keyup", function() {
  const keyword = this.value.toLowerCase();
  if (keyword === "") {
    displayData(allData);
  } else {
    const filtered = allData.filter(item => {
      return Object.values(item).some(val => 
        String(val).toLowerCase().includes(keyword)
      );
    });
    displayData(filtered);
  }
});
</script>
</body>
</html>



