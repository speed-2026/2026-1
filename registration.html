<!DOCTYPE html>
<html>
<head>
<title>Registration list</title>
<style>
body { 
  font-family: sans-serif; 
  background:white; 
  margin: 0; 
  padding: 10px; 
}
h1 {
  text-align:center;
  font-size:20px;
  background:#b4c4cf;
  color:rgb(71, 6, 6);
  padding:12px;
  border-radius:8px;
  margin-bottom:10px;
}
#search-box {
  width: 100%;
  padding: 12px;
  font-size: 14px;
  border: 1px solid #1a0101;
  border-radius: 12px;
  margin-bottom: 20px;
  outline: none;
}
ul { list-style-type: none; padding: 0; }
li { 
  margin-bottom: 15px; 
  padding: 15px; 
  border-radius: 12px; 
  background: linear-gradient(135deg, #e3e4e4, #cccecb);
  box-shadow: 0 3px 6px rgba(80, 78, 78, 0.3);
}
p { margin: 6px 0; font-size:14px; }
.name { font-weight:bold; font-size:18px; color:#0a0d0f; }
</style>
</head>
<body>
<h1>CELEBRATION 2026</h1>

<!-- üîç Search box -->
<input type="text" id="search-box" placeholder="üîç Search by any word...">

<ul id="data-list"></ul>

<script>
const url = 'https://script.google.com/macros/s/AKfycbyOq3RK_pTLPTFuO_0Yxk-102DUnM2-amfhZW76ciuPttiWdxi8U03PKQNDSv-d_e8WGg/exec';

let allData = [];

fetch(url)
.then(response => response.json())
.then(data => {
  allData = data;
  displayData(allData); // ‡¥Ü‡¥¶‡µç‡¥Ø‡¥Ç ‡¥Æ‡µÅ‡¥¥‡µÅ‡¥µ‡µª ‡¥ï‡¥æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡¥£‡¥Ç
})
.catch(error => console.error('‚ùå Error fetching data:', error));

function displayData(data) {
  const dataList = document.getElementById('data-list');
  dataList.innerHTML = "";

  data.forEach(item => {
    // Safe access (any heading)
    let name   = item["Name"] || "";
    let phone  = item["Phone No"] || item["Phone"] || "";
    let office = item["Office"] || "";
    let district = item["District"] || "";

    const listItem = document.createElement('li');
    listItem.innerHTML = `
      <p class="name">${name}</p>
      <p>üìû ${phone}</p>
      <p>üè¢ ${office}</p>
      <p>üìç ${district}</p>
    `;
    dataList.appendChild(listItem);
  });
}

// üîé Search filter
document.getElementById("search-box").addEventListener("keyup", function() {
  const keyword = this.value.toLowerCase();

  if (keyword === "") {
    // search box ‡¥í‡¥¥‡¥ø‡¥û‡µç‡¥û‡¥æ‡µΩ ‚Üí ‡¥Æ‡µÅ‡¥¥‡µÅ‡¥µ‡µª data ‡¥ï‡¥æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï
    displayData(allData);
  } else {
    // ‡¥é‡¥≤‡µç‡¥≤‡¥æ columns-‡¥≤‡µÅ‡¥Ç search ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡¥æ‡¥Ç
    const filtered = allData.filter(item => {
      return Object.values(item).some(val => 
        String(val).toLowerCase().includes(keyword)
      );
    });
    displayData(filtered);
  }
});
</script>
</body>
</html>


